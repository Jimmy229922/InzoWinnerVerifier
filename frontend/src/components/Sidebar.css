/* frontend/src/components/Sidebar.css */

.sidebar {
    width: 250px; /* عرض ثابت للشريط الجانبي */
    background-color: var(--background-card); /* خلفية الشريط الجانبي */
    box-shadow: var(--shadow-2xl); /* ظل أعمق وأكثر وضوحاً */
    padding: var(--spacing-xl) var(--spacing-md); /* مسافات داخلية أكبر */
    display: flex;
    flex-direction: column;
    border-left: 1px solid var(--border-color); /* حدود على اليسار (لأن الاتجاه RTL) */
    flex-shrink: 0; /* منع الشريط من الانكماش */
    position: sticky; /* لجعل الشريط ثابتاً عند التمرير */
    top: 0;
    height: 100vh; /* ارتفاع كامل الشاشة */
    overflow-y: auto; /* السماح بالتمرير إذا زاد المحتوى */
    z-index: var(--z-sticky); /* لضمان ظهوره فوق المحتوى الآخر */
    direction: rtl; /* اتجاه النص من اليمين لليسار */
    text-align: right; /* محاذاة النص لليمين */
    transition: background-color var(--transition-medium), box-shadow var(--transition-medium); /* انتقال سلس للألوان والظلال */
}

.sidebar-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: var(--spacing-xl); /* مسافة أكبر */
    margin-bottom: var(--spacing-xl); /* مسافة أكبر */
    border-bottom: 2px solid var(--border-color-dark); /* خط فاصل أكثر وضوحاً */
}

.sidebar-logo {
    width: 90px; /* حجم أكبر للشعار */
    height: 90px;
    border-radius: var(--radius-full); /* شكل دائري */
    object-fit: cover;
    margin-bottom: var(--spacing-md); /* مسافة جيدة تحت الشعار */
    box-shadow: var(--shadow-lg); /* ظل أكثر بروزاً للشعار */
    border: 3px solid var(--primary-color); /* حدود ملونة للشعار */
}

.sidebar-title {
    font-size: var(--font-size-2xl); /* حجم أكبر للعنوان */
    font-weight: var(--font-weight-extrabold); /* وزن خط أثقل */
    color: var(--primary-color);
    text-align: center;
    line-height: 1.3;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.1); /* ظل نص خفيف */
}

.sidebar-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.sidebar-nav li {
    margin-bottom: var(--spacing-md); /* مسافة أكبر بين عناصر القائمة */
}

/* الأنماط الجديدة لـ .nav-button (الذي حل محل <a>) */
.nav-button {
    display: flex;
    align-items: center;
    width: 100%; /* لجعل الزر يملأ العرض الكامل للعنصر <li> */
    gap: var(--spacing-md);
    padding: var(--spacing-md) var(--spacing-lg); /* بادينغ أكبر للأزرار */
    border-radius: var(--radius-lg); /* حواف دائرية أكثر */
    color: var(--text-medium); /* لون نص متوسط لغير النشط */
    text-decoration: none; /* إزالة خط التسطير إذا كان موجوداً */
    font-size: var(--font-size-lg); /* حجم خط أكبر للروابط */
    font-weight: var(--font-weight-medium);
    transition: all var(--transition-medium); /* انتقال سلس لكل الخصائص */
    position: relative; /* لتأثيرات التحويم */
    overflow: hidden; /* لإخفاء تأثير اللمعان */
    background: transparent; /* خلفية شفافة افتراضياً */
    border: none; /* إزالة حدود الزر الافتراضية */
    cursor: pointer; /* مؤشر اليد */
    text-align: right; /* محاذاة النص لليمين */
}

.nav-button::before {
    content: '';
    position: absolute;
    top: 0;
    right: -100%; /* يبدأ من خارج العنصر على اليسار (RTL) */
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent); /* تأثير لمعان */
    transition: all var(--transition-medium);
    z-index: 1;
}

.nav-button:hover::before {
    right: 100%; /* ينتهي خارج العنصر على اليمين (RTL) */
}

.nav-button span,
.nav-button .nav-icon {
    position: relative;
    z-index: 2; /* لضمان ظهور النص والأيقونة فوق تأثير اللمعان */
}

.nav-button:hover {
    background-color: var(--background-hover);
    color: var(--primary-dark); /* لون أغمق عند التحويم */
    transform: translateX(-8px); /* تأثير انزلاق أكبر لليسار (لأن الاتجاه RTL) */
    box-shadow: var(--shadow-sm); /* ظل خفيف عند التحويم */
}

.sidebar-nav li.active .nav-button {
    background: var(--gradient-primary); /* تدرج لوني للخلفية النشطة */
    color: var(--text-light); /* نص فاتح جداً للعنصر النشط */
    font-weight: var(--font-weight-bold);
    box-shadow: var(--shadow-md); /* ظل أكثر بروزاً للعنصر النشط */
    transform: translateX(-4px); /* انزلاق خفيف لليسار للعنصر النشط */
}

.sidebar-nav li.active .nav-button .nav-icon {
    color: var(--text-light); /* لون الأيقونة النشطة */
}

.sidebar-nav li.active .nav-button:hover {
    background: var(--gradient-primary); /* يبقى التدرج عند التحويم */
    transform: translateX(-6px); /* انزلاق أكبر قليلاً عند التحويم على النشط */
    box-shadow: var(--shadow-lg); /* ظل أكبر عند التحويم على النشط */
}

.nav-icon {
    font-size: var(--font-size-xl); /* حجم أكبر للأيقونات */
    color: var(--text-muted); /* لون الأيقونات غير النشطة */
    transition: color var(--transition-fast);
}

/* Theme Toggle Button */
.theme-toggle-container {
    margin-top: auto; /* يدفع الزر إلى الأسفل */
    padding-top: var(--spacing-lg);
    border-top: 1px solid var(--border-color);
    text-align: center;
}

.theme-toggle-button {
    background: var(--background-card); /* خلفية زر تبديل الثيم */
    border: 1px solid var(--border-color-dark); /* حدود واضحة */
    border-radius: var(--radius-full); /* شكل دائري */
    font-size: var(--font-size-2xl);
    cursor: pointer;
    color: var(--accent-color); /* لون مميز لزر التبديل */
    padding: var(--spacing-sm) var(--spacing-md);
    transition: all var(--transition-medium);
    box-shadow: var(--shadow-sm);
    outline: none;
}

.theme-toggle-button:hover {
    background-color: var(--accent-light); /* خلفية خفيفة عند التحويم */
    color: var(--accent-dark);
    transform: scale(1.1) rotate(15deg); /* تأثير دوران وتكبير */
    box-shadow: var(--shadow-md);
}

/* ========================================================================== */
/* Responsive adjustments for Sidebar */
/* ========================================================================== */
@media (max-width: 1024px) {
    .sidebar {
        width: 80px; /* تصغير الشريط الجانبي على الشاشات المتوسطة */
        padding: var(--spacing-lg) var(--spacing-xs);
    }
    .sidebar-header {
        padding-bottom: var(--spacing-lg);
        margin-bottom: var(--spacing-lg);
    }
    .sidebar-logo {
        width: 60px;
        height: 60px;
    }
    .sidebar-title {
        display: none; /* إخفاء العنوان النصي */
    }
    .sidebar-nav .nav-button span { /* إخفاء نص الأزرار */
        display: none; 
    }
    .sidebar-nav .nav-button {
        justify-content: center; /* توسيط الأيقونات */
        padding: var(--spacing-md) var(--spacing-xs);
    }
    .sidebar-nav li.active .nav-button {
        transform: none; /* إزالة الانزلاق الأفقي */
    }
    .sidebar-nav .nav-button:hover {
        transform: none; /* إزالة الانزلاق الأفقي */
    }
    .nav-icon {
        font-size: var(--font-size-xl); /* الحفاظ على حجم الأيقونات */
    }
    .theme-toggle-button {
        font-size: var(--font-size-xl);
        padding: var(--spacing-xs);
        transform: none; /* إزالة الدوران */
    }
    .theme-toggle-button:hover {
        transform: scale(1.1); /* تكبير فقط */
    }
}

@media (max-width: 768px) {
    .sidebar {
        width: 100%; /* الشريط الجانبي يأخذ العرض الكامل على الشاشات الصغيرة جداً */
        height: auto; /* ارتفاع تلقائي */
        position: relative; /* ليس ثابتاً */
        border-bottom: 1px solid var(--border-color); /* حدود سفلية */
        border-left: none; /* إزالة الحدود الجانبية */
        padding: var(--spacing-md);
        flex-direction: row; /* العناصر أفقياً */
        justify-content: space-around; /* توزيع العناصر بالتساوي */
        flex-wrap: wrap; /* السماح بالعناصر بالانتقال لسطر جديد */
        gap: var(--spacing-sm);
    }

    .sidebar-header {
        display: none; /* إخفاء الهيدر على الشاشات الصغيرة */
    }

    .sidebar-nav ul {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        width: 100%;
        gap: var(--spacing-sm);
    }

    .sidebar-nav li {
        margin-bottom: 0;
        flex-grow: 1; /* جعل العناصر تتمدد لملء المساحة */
        text-align: center;
    }

    .sidebar-nav .nav-button { /* تطبيق تنسيقات الزر على الشاشات الصغيرة */
        flex-direction: column; /* الأيقونة والنص فوق بعضهما */
        padding: var(--spacing-xs);
        font-size: var(--font-size-sm);
        gap: var(--spacing-xs);
    }

    .sidebar-nav .nav-button:hover {
        transform: none; /* إزالة تأثير الانزلاق على الموبايل */
    }
    
    .theme-toggle-container {
        margin-top: var(--spacing-md); /* مسافة من الأعلى */
        width: 100%;
        text-align: center;
        border-top: none; /* إزالة الخط الفاصل */
        padding-top: 0;
    }
    .theme-toggle-button {
        font-size: var(--font-size-xl);
        padding: var(--spacing-xs) var(--spacing-sm);
    }
}

@media (max-width: 480px) {
    .sidebar-nav .nav-button {
        font-size: var(--font-size-xs);
        padding: var(--spacing-xs);
    }
    .nav-icon {
        font-size: var(--font-size-base);
    }
    .theme-toggle-button {
        font-size: var(--font-size-lg);
    }
}
